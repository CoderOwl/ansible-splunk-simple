IP2Location Add-on
----------------------------------------
	Author: Splunk
	Version/Date: 09/23/2010 10:45 am
	Source type(s): Not applicable
	Has index-time operations: false, this TA does not need to be placed on indexers
	Input requirements: Not applicable
	Supported product(s): Geo-IP2Location (http://www.ip2location.com/python.aspx)

This Technology add-on provides the ability to correlate IP addresses to locations using the Python IP2Location library (http://www.ip2location.com/python.aspx).

Using this Add-on:
----------------------------------------
	Configuration: 
	
	1.  Create TA-ip2location/local/transforms.conf and adjust "python_home" if it differs from "python_home=/usr/bin/python" (Windows)
	2.  Create/Edit TA-ip2location/local/transforms.conf and adjust "file" as it should differ from "file=IP-COUNTRY-SAMPLE.BIN" (ip2location file should be in <app>/lookups/<file>)
	
	[ip2location_lookup_host_only]
	external_cmd = ecmd_wrapper.py python_home=<Python Path> ecmd_app=TA-ip2location ecmd_file=ip2location.py app=TA-ip2location file=IP-COUNTRY-SAMPLE.BIN

	[ip2location_lookup_orig_host_only]
	external_cmd = ecmd_wrapper.py python_home=<Python Path> ecmd_app=TA-ip2location ecmd_file=ip2location.py app=TA-ip2location file=IP-COUNTRY-SAMPLE.BIN

	[ip2location_lookup_src_only]
	external_cmd = ecmd_wrapper.py python_home=<Python Path> ecmd_app=TA-ip2location ecmd_file=ip2location.py app=TA-ip2location file=IP-COUNTRY-SAMPLE.BIN

	[ip2location_lookup_dest_only]
	external_cmd = ecmd_wrapper.py python_home=<Python Path> ecmd_app=TA-ip2location ecmd_file=ip2location.py app=TA-ip2location file=IP-COUNTRY-SAMPLE.BIN

	[ip2location_lookup_dvc_only]
	external_cmd = ecmd_wrapper.py python_home=<Python Path> ecmd_app=TA-ip2location ecmd_file=ip2location.py app=TA-ip2location file=IP-COUNTRY-SAMPLE.BIN	


	3.  It is recommended to perform ip2location lookups via search language.  Not via props.conf (LOOKUP) statements.  This is to prevent the large binary ip2location database
	from being replicated via distributed search.  If you would like to perform ip2location lookups via props.conf be sure to disable the replication blacklist:
	
    Disable the replication blacklist for ip2location databases in $SPLUNK_HOME/etc/apps/TA-ip2location/local/distsearch.conf:
    [replicationBlacklist]
    noip2locationdb = 

	Ports for automatic configuration: None
	Scripted input setup: Not applicable
	
Installing Dependencies:
----------------------------------------

Run 'make install', 'python setup.py install', and /etc/profile modifications as privileged user (root):
	
	1.  Make sure both gcc and python-devel are installed (yum install gcc python-devel)
	2.  Extract C-IP2Location-<version> (tar -xvfz C-IP2Location-<version>)
	3.  cd C-IP2Location-<version>
	4.  ./configure
	5.  make
	6.  make check
	7.  sudo make install
	8.  Extract Python-IP2Location-<version> (tar -xvfz Python-IP2Location-<version>)
	9.  python setup.py build
	10. sudo python setup.py install
	11. Verify $LD_LIBRARY_PATH (echo $LD_LIBRARY_PATH)
	12. If no $LD_LIBRARY_PATH:
	    
	    a.  sudo vi /etc/profile
	    b.  Append the following to file:
		# LD_LIBRARY_PATH
		export LD_LIBRARY_PATH=/usr/local/lib
		c.  sudo source /etc/profile



Copyright (C) 2009-2013 Splunk Inc. All Rights Reserved.
